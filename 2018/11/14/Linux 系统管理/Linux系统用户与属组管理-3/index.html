<!DOCTYPE html>













<html class="theme-next gemini" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">











<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.0.1',
    sidebar: {"position":"left","display":"hide","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: true,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"expandIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Linux 是一套免费使用和自由传播的类Unix操作系统,是一个基于POSIX和UNIX的多用户、多任务、支持多线程和多CPU的操作系统.它能运行主要的UNIX工具软件、应用程序和网络协议.它支持32位和64位硬件.Linux继承了Unix以网络为核心的设计思想,是一个性能稳定的多用户网络操作系统. 好了,终于要到了管理 Linux 账号的时刻了,对于 Linux 有一定的熟悉度之后,再来就是要管">
<meta name="keywords" content="Linux 系统管理">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux系统用户与属组管理(3)">
<meta property="og:url" content="https://www.mkdirs.com/2018/11/14/Linux 系统管理/Linux系统用户与属组管理-3/index.html">
<meta property="og:site_name" content="我的个人博客">
<meta property="og:description" content="Linux 是一套免费使用和自由传播的类Unix操作系统,是一个基于POSIX和UNIX的多用户、多任务、支持多线程和多CPU的操作系统.它能运行主要的UNIX工具软件、应用程序和网络协议.它支持32位和64位硬件.Linux继承了Unix以网络为核心的设计思想,是一个性能稳定的多用户网络操作系统. 好了,终于要到了管理 Linux 账号的时刻了,对于 Linux 有一定的熟悉度之后,再来就是要管">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-04-16T12:34:34.527Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux系统用户与属组管理(3)">
<meta name="twitter:description" content="Linux 是一套免费使用和自由传播的类Unix操作系统,是一个基于POSIX和UNIX的多用户、多任务、支持多线程和多CPU的操作系统.它能运行主要的UNIX工具软件、应用程序和网络协议.它支持32位和64位硬件.Linux继承了Unix以网络为核心的设计思想,是一个性能稳定的多用户网络操作系统. 好了,终于要到了管理 Linux 账号的时刻了,对于 Linux 有一定的熟悉度之后,再来就是要管">



  <link rel="alternate" href="/atom.xml" title="我的个人博客" type="application/atom+xml">




  <link rel="canonical" href="https://www.mkdirs.com/2018/11/14/Linux 系统管理/Linux系统用户与属组管理-3/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Linux系统用户与属组管理(3) | 我的个人博客</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">我的个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.mkdirs.com/2018/11/14/Linux 系统管理/Linux系统用户与属组管理-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="王瑞">
      <meta itemprop="description" content="记录点滴技术成长之路">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我的个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Linux系统用户与属组管理(3)

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-11-14 12:22:27" itemprop="dateCreated datePublished" datetime="2018-11-14T12:22:27+08:00">2018-11-14</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-04-16 20:34:34" itemprop="dateModified" datetime="2019-04-16T20:34:34+08:00">2019-04-16</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux-系统管理/" itemprop="url" rel="index"><span itemprop="name">Linux 系统管理</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    
    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Linux 是一套免费使用和自由传播的类Unix操作系统,是一个基于POSIX和UNIX的多用户、多任务、支持多线程和多CPU的操作系统.它能运行主要的UNIX工具软件、应用程序和网络协议.它支持32位和64位硬件.Linux继承了Unix以网络为核心的设计思想,是一个性能稳定的多用户网络操作系统.</p>
<p>好了,终于要到了管理 Linux 账号的时刻了,对于 Linux 有一定的熟悉度之后,再来就是要管理连上 Linux 的账号问题了,这个账号的问题可大可小,大到可以限制他使用 Linux 主机的各项资源,小到甚至一般账号的密码订定守则都可以进行规定,管理员的工作中,相当重要的一环就是『管理账号』啦,因为整个系统都是你在管理的,并且所有一般用户的账号申请,都必须要透过你的协助才行,所以你就必须要了解一下如何管理好一个服务器主机的账号啦,在管理 Linux 主机的账号时,我们必须先来了解一下 Linux 到底是如何辨别每一个使用者的.</p>
<a id="more"></a>
<blockquote>
<p>关于Linux UID账号 (User Identity 用户标识号)</p>
<p>超级用户: UID=0<br>系统用户: UID=500-65535 最大:1000-65535<br>普通用户: UID:500-65535 最大:1000-65535</p>
</blockquote>
<blockquote>
<p>关于Linux GID账号 (Group Identify 组标识号)<br>初始组(私有组),附加组(公共组)<br><br></p>
</blockquote>
<h2 id="Linux-用户文件解析"><a href="#Linux-用户文件解析" class="headerlink" title="Linux 用户文件解析"></a>Linux 用户文件解析</h2><p>虽然我们登陆 Linux 主机的时候,输入的是我们的账号,但是其实 Linux 主机并不会直接认识你的『账号名称』的,他仅认识 ID (ID 就是一组号码),由于计算机仅认识 0 与 1,所以主机对于数字比较有概念的,至于账号只是为了让人们容易记忆而已,而你的 ID 与账号的对应就在 /etc/passwd 当中,为了安全起见 Linux 把用户密码单独放在了 /etc/shadow 目录下,且权限是只允许root能够访问,下面我们来介绍一下其这两个配置文件的具体参数吧.</p>
<h3 id="◆-etc-passwd◆"><a href="#◆-etc-passwd◆" class="headerlink" title="◆/etc/passwd◆"></a>◆/etc/passwd◆</h3><p>这个文件的构造是这样的,每一行都代表一个账号,有几行就代表有几个账号在你的系统中,不过需要特别留意的是,里头很多账号本来就是系统正常运行所必须要的,我们可以简称他为系统账号,例如 bin,daemon,adm,nobody 等,这些账号请不要随意的删除,这个文件的内容有点像下面这个样子.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># head -n 3 /etc/passwd</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">....省略....</span><br></pre></td></tr></table></figure>
<p>我们先来看一下每个Linux系统都会有的第一行,就是root这个系统管理员那一行好了,你可以明显的看出来,每一行使用『:』分隔开,共有七个咚咚,分别是:</p>
<table>
<thead>
<tr>
<th style="text-align:left">列号码</th>
<th style="text-align:center">本列作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">第一列</td>
<td style="text-align:center">用户名：就是账号,用来对应UID的:例如root的UID对应就是0</td>
</tr>
<tr>
<td style="text-align:left">第二列</td>
<td style="text-align:center">密码位：密码占位符,这个字段的密码数据在/etc/shadow中</td>
</tr>
<tr>
<td style="text-align:left">第三列</td>
<td style="text-align:center">用户UID：0=管理员,1-499=系统账户,500-65535=自定义账户</td>
</tr>
<tr>
<td style="text-align:left">第四列</td>
<td style="text-align:center">用户GID：也就是用户的组ID号,这个GID与/etc/group有关</td>
</tr>
<tr>
<td style="text-align:left">第五列</td>
<td style="text-align:center">用户描述信息：这一列可有可无,只是用来解释账号的意义而已</td>
</tr>
<tr>
<td style="text-align:left">第六列</td>
<td style="text-align:center">用户家目录：指定了用户的家目录保存位置,系统默认生成</td>
</tr>
<tr>
<td style="text-align:left">第七列</td>
<td style="text-align:center">登陆默认Shell：指明系统默认的登陆shell是什么</td>
</tr>
</tbody>
</table>
<h3 id="◆-etc-shadow◆"><a href="#◆-etc-shadow◆" class="headerlink" title="◆/etc/shadow◆"></a>◆/etc/shadow◆</h3><p>我们知道很多程序的运行都与权限有关,而权限与 UID/GID 有关,因此各程序当然需要读取 /etc/passwd 来了解不同账号的权限,因此 /etc/passwd 的权限需配置为 -rw-r–r– 这样的情况,虽然早期的口令也有加密过,但却放置到 /etc/passwd 的第二个字段上,这样一来很容易被有心人士所窃取的,加密过的口令也能够透过暴力破解法去 try and error (试误) 找出来.</p>
<p>因为这样的关系,所以后来发展出将口令移动到 /etc/shadow 这个文件分隔开来的技术,而且还加入很多的口令限制参数在 /etc/shadow 里头,在这里,我们先来了解一下这个文件的构造吧,这个 /etc/shadow 文件有点像下面这样：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># head -n 3 /etc/shadow</span></span><br><span class="line">root:<span class="variable">$6</span><span class="variable">$TT4VWP5W</span><span class="variable">$Libo7Yk8JzG15VQWKu</span>:17699:0:99999:7:::</span><br><span class="line">bin:*:17110:0:99999:7:::</span><br><span class="line">daemon:*:17110:0:99999:7:::</span><br><span class="line">....省略....</span><br></pre></td></tr></table></figure>
<p>基本上,shadow 同样以『:』作为分隔符,如果数一数,会发现共有九个字段,这九个字段的用途是这样的：</p>
<table>
<thead>
<tr>
<th style="text-align:left">列号码</th>
<th style="text-align:center">本列作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">第一列</td>
<td style="text-align:center">用户名：这个文件的第一栏就是账号,必须要与/etc/passwd相同才行</td>
</tr>
<tr>
<td style="text-align:left">第二列</td>
<td style="text-align:center">密码位：这个字段内的数据才是真正的口令,而且是经过加密的口令</td>
</tr>
<tr>
<td style="text-align:left">第三列</td>
<td style="text-align:center">密码最近更改时间：这个字段记录了『更改系统口令那一天』的日期</td>
</tr>
<tr>
<td style="text-align:left">第四列</td>
<td style="text-align:center">密码最短有效期：账号的口令在最近一次被更改后需要经过几天后才能再次更改</td>
</tr>
<tr>
<td style="text-align:left">第五列</td>
<td style="text-align:center">密码最长有效期：指定在最近一次更改口令后,经过多久需要再次更改的时间</td>
</tr>
<tr>
<td style="text-align:left">第六列</td>
<td style="text-align:center">密码到期前的警告天数：当账号口令过期时,系统会发出『警告』给这个账号</td>
</tr>
<tr>
<td style="text-align:left">第七列</td>
<td style="text-align:center">密码过期后的宽限天数：口令有效日期为『升级日期(第3字段)』+『重新变更日期(第5字段)』</td>
</tr>
<tr>
<td style="text-align:left">第八列</td>
<td style="text-align:center">密码失效时间：账号在此字段规定的日期之后,将无法再使用,默认是9999999</td>
</tr>
<tr>
<td style="text-align:left">第九列</td>
<td style="text-align:center">系统保留：此配置没有被使用,属于系统保留字段</td>
</tr>
</tbody>
</table>
<p><br></p>
<h2 id="Linux-属组文件解析"><a href="#Linux-属组文件解析" class="headerlink" title="Linux 属组文件解析"></a>Linux 属组文件解析</h2><p>认识了账号相关的两个文件 /etc/passwd 与 /etc/shadow 之后,你或许还是会觉得奇怪,那么群组的配置文件在哪里?还有在 /etc/passwd 的第四栏不是所谓的 GID 吗? 那又是啥? 此时就需要了解 /etc/group 与 /etc/gshadow 这两个配置文件喽.</p>
<h3 id="◆-etc-group◆"><a href="#◆-etc-group◆" class="headerlink" title="◆/etc/group◆"></a>◆/etc/group◆</h3><p>这个文件就是在记录 GID 与组名的对应了,他主要是实现组用户的记录工作, /etc/group 内容有点像以下这样：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># head -n 3 /etc/group</span></span><br><span class="line">root:x:0:</span><br><span class="line">bin:x:1:</span><br><span class="line">daemon:x:2:</span><br><span class="line">....省略....</span><br></pre></td></tr></table></figure>
<p>这个文件每一行代表一个群组,也是以冒号『:』作为字段的分隔符,共分为四栏,每一字段的意义如下：</p>
<table>
<thead>
<tr>
<th style="text-align:left">列号码</th>
<th style="text-align:center">本列作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">第一列</td>
<td style="text-align:center">组名称：就是组名,在新建用户的时候系统会为用户分配一个默认组.</td>
</tr>
<tr>
<td style="text-align:left">第二列</td>
<td style="text-align:center">密码占位符：通常不需要配置,这个配置通常是给『组管理员』使用的.</td>
</tr>
<tr>
<td style="text-align:left">第三列</td>
<td style="text-align:center">组ID号(GID)：就是群组的 ID 号码.</td>
</tr>
<tr>
<td style="text-align:left">第四列</td>
<td style="text-align:center">成员列表：显示本组内的成员列表</td>
</tr>
</tbody>
</table>
<h3 id="◆-etc-gshadow◆"><a href="#◆-etc-gshadow◆" class="headerlink" title="◆/etc/gshadow◆"></a>◆/etc/gshadow◆</h3><p>本配置文件用于存储组的密码,等相关信息/etc/gshadow的内容有点像这样：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># head -n 3 /etc/gshadow</span></span><br><span class="line">root:::</span><br><span class="line">bin:::</span><br><span class="line">daemon:::</span><br><span class="line">....省略....</span><br></pre></td></tr></table></figure></p>
<p>这个文件内同样还是使用冒号『:』来作为字段的分隔字符,而且你会发现,这个文件几乎与/etc/group一模一样,是这样没错不过,要注意的大概就是第二个字段,第二个字段是口令栏,如果口令栏上面是『!』时,表示该群组不具有群组管理员,至于第四个字段也就是支持的账号名称,这四个字段的意义为：</p>
<table>
<thead>
<tr>
<th style="text-align:left">列号码</th>
<th style="text-align:center">本列作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">第一列</td>
<td style="text-align:center">用户组：就是组名,本配置文件必须与/etc/group文件相对应.</td>
</tr>
<tr>
<td style="text-align:left">第二列</td>
<td style="text-align:center">组密码：这个段可以是空的或!,如果是空的或有!,表示没有密码</td>
</tr>
<tr>
<td style="text-align:left">第三列</td>
<td style="text-align:center">组管理者：这个字段也可为空,如果有多个用户组管理者用,分割</td>
</tr>
<tr>
<td style="text-align:left">第四列</td>
<td style="text-align:center">组内成员：如果有多个成员用,号分割</td>
</tr>
</tbody>
</table>
<p>以系统管理员的角度来说,这个 gshadow 最大的功能就是创建群组管理员啦,那么什么是群组管理员呢？由于系统上面的账号可能会很多,但是我们root可能平时太忙碌,所以当有使用者想要加入某些群组时,root或许会没有空管理,此时如果能够创建群组管理员的话,那么该群组管理员就能够将那个账号加入自己管理的群组中,可以免去root的忙碌啦.<br><br></p>
<h2 id="Linux-用户管理命令"><a href="#Linux-用户管理命令" class="headerlink" title="Linux 用户管理命令"></a>Linux 用户管理命令</h2><p>好啦！既然要管理账号,当然是由新增与移除使用者开始的啰～底下我们就分别来谈一谈如何新增、移除与更改用户的相关信息吧～</p>
<h3 id="◆useradd-新建用户◆"><a href="#◆useradd-新建用户◆" class="headerlink" title="◆useradd 新建用户◆"></a>◆useradd 新建用户◆</h3><p>useradd命令用于Linux中创建的新的系统用户,useradd可用来建立用户帐号,帐号建好之后,再用passwd设定帐号的密码.而可用userdel删除帐号,使用useradd指令所建立的帐号,实际上是保存在/etc/passwd文本文件中,在Slackware中,adduser指令是个script程序,利用交谈的方式取得输入的用户帐号资料,然后再交由真正建立帐号的useradd命令建立新用户,如此可方便管理员建立用户帐号.在Red Hat Linux中,adduser命令则是useradd命令的符号连接,两者实际上是同一个指令,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># useradd --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ user [选项] 用户名 ]</span><br><span class="line"></span><br><span class="line">        -u UID          <span class="comment">#创建用户时指定UID号</span></span><br><span class="line">        -g 组名         <span class="comment">#指定一个初始组</span></span><br><span class="line">        -G 组名         <span class="comment">#加入一个附加组</span></span><br><span class="line">        -d 目录         <span class="comment">#手动指定某目录为家目录</span></span><br><span class="line">        -s 类型         <span class="comment">#指定默认Shell,默认/bin/bash</span></span><br><span class="line">        -M              <span class="comment">#强制不创建家目录</span></span><br><span class="line">        -D              <span class="comment">#查询默认配置参数</span></span><br><span class="line">        -m              <span class="comment">#强制创建家目录</span></span><br><span class="line">        -c              <span class="comment">#指定说明信息,可随便写</span></span><br><span class="line">        -r              <span class="comment">#创建一个系统的账号</span></span><br><span class="line">        -e              <span class="comment">#指定账号失效日期,格式为『YYYY-MM-DD』</span></span><br><span class="line">        -f              <span class="comment">#指定口令是否会失效,0为立刻失效</span></span><br><span class="line">        -1              <span class="comment">#指定用户永远不失效</span></span><br></pre></td></tr></table></figure>
<p><strong>实例1：</strong>使用 <code>useradd -M -r -s /sbin/nologin</code> 参数创建一个系统用户.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># useradd -M -r -s /sbin/nologin lyshark</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]<span class="comment"># cat /etc/passwd |grep lyshark</span></span><br><span class="line">lyshark:x:997:995::/home/lyshark:/sbin/nologin</span><br></pre></td></tr></table></figure></p>
<p><strong>实例2：</strong>使用 <code>useradd -G</code> 参数创建用户并指定组.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># groupadd admin</span></span><br><span class="line">[root@localhost ~]<span class="comment"># useradd -G admin wang</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]<span class="comment"># cat /etc/group |grep wang</span></span><br><span class="line">admin:x:1000:wang</span><br></pre></td></tr></table></figure></p>
<p><strong>关于useradd命令的拓展</strong></p>
<p>其实系统已经帮我们规定好非常多的默认值了,所以我们可以简单的使用『 useradd 账号 』来创建使用者即可,这些默认值主要会帮我们处理几个项目：</p>
<blockquote>
<p>在 /etc/passwd 里面创建一行与账号相关的数据,包括创建UID/GID/家目录等.<br>在 /etc/shadow 里面将此账号的口令相关参数填入,但是尚未有口令.<br>在 /etc/group 里面加入一个与账号名称一模一样的组名.<br>在 /home 底下创建一个与账号同名的目录作为用户家目录,且权限为700.</p>
</blockquote>
<p>那么我们在创建默认用户的时候也会参考一些配置文件,来完成默认参数的配置,现在我们可以使用下面的命令来直接获取默认配置参数.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># useradd -D</span></span><br><span class="line"></span><br><span class="line">GROUP=100</span><br><span class="line">HOME=/home</span><br><span class="line">INACTIVE=-1</span><br><span class="line">EXPIRE=</span><br><span class="line">SHELL=/bin/bash</span><br><span class="line">SKEL=/etc/skel</span><br><span class="line">CREATE_MAIL_SPOOL=yes</span><br></pre></td></tr></table></figure></p>
<p>这个数据其实是由/etc/default/useradd参数读取出来的,你可以自行用VIM去观察该文件的内容,搭配上头刚刚谈过的运行结果,上面这些配置项目所造成的行为分别是：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># vim /etc/default/useradd</span></span><br><span class="line"></span><br><span class="line">GROUP=100</span><br><span class="line"></span><br><span class="line"><span class="comment">#新创建用户时默认初始组的GID号（公有组机制）</span></span><br><span class="line"><span class="comment">#现在使用的是私有组机制（根据创建用户名称创建组）</span></span><br><span class="line"></span><br><span class="line">HOME=/home</span><br><span class="line"><span class="comment">#新创建用户的家目录的默认位置</span></span><br><span class="line"></span><br><span class="line">INACTIVE=-1</span><br><span class="line"><span class="comment">#密码过期后宽限天数（过期停权），用天数表示：0代表密码到期立刻失效；正数代表密码到期后的宽限天数；-1 表示密码永不失效。 </span></span><br><span class="line"></span><br><span class="line">EXPIRE=</span><br><span class="line"><span class="comment">#密码失效时间，此处写时间戳，到达时间戳时间后立刻失效，不填写表示用户密码永不过期。</span></span><br><span class="line"></span><br><span class="line">SHELL=/bin/bash</span><br><span class="line"><span class="comment">#此选项是创建用户时默认的shell类型，/bin/bash 表示可以登录系统</span></span><br><span class="line"></span><br><span class="line">SKEL=/etc/skel </span><br><span class="line"><span class="comment">#此选项是创建用户时使用的模板目录，/etc/skel中的文件在用户创建时都会被复制到用户家目录下。</span></span><br><span class="line"></span><br><span class="line">GREATE_MAIL_SPOOL=yes</span><br><span class="line"><span class="comment">#此选项是是否给新用户创建邮件缓冲（即新邮箱）</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># vim /etc/login.defs</span></span><br><span class="line"></span><br><span class="line">MAIL_DIR /var/spool/mail</span><br><span class="line"><span class="comment">#指定新用户的默认邮箱位置。比如xdl用户的邮箱目录位置：/var/spool/mail/lyshark</span></span><br><span class="line"></span><br><span class="line">PASS_MAX_DAYS 99999</span><br><span class="line"><span class="comment">#这行指定的是密码的有效期，也就是/etc/shadow文件的第五字段。代表多少天之后必须修改密码，默认值是99999</span></span><br><span class="line"></span><br><span class="line">PASS_MIN_DAYS 0</span><br><span class="line"><span class="comment">#这行指定的是两次密码的修改间隔时间，也就是/etc/shadow文件的第四字段。代表第一次修改密码之后，几天后才能再次修改密码。默认值是0</span></span><br><span class="line"></span><br><span class="line">PASS_MIN_LEN 5</span><br><span class="line"><span class="comment">#这行代表密码的最小长度，默认不小于5位。但是我们现在用户登录时验证已经被PAM模块取代，所以这个选项并不生效</span></span><br><span class="line"></span><br><span class="line">PASS_WARN_AGE 7</span><br><span class="line"><span class="comment">#这行代表密码修改到期前的警告天数，也就是/etc/shadow文件的第六字段。代表密码到底有效期前多少天开始进行警告提醒，默认值是7天</span></span><br><span class="line"></span><br><span class="line">UID_MIN 500</span><br><span class="line"><span class="comment">#创建普通用户的时候默认的起始UID号</span></span><br><span class="line"></span><br><span class="line">UID_MAX 60000</span><br><span class="line"><span class="comment">#创建普通用户，不用-u 指定时，默认最大的UID号。</span></span><br><span class="line"><span class="comment">#注：假如有一个用户创建时通过 -u 指定了 UID 为 550，那么下一次不指定-u 时，则起始UID 变成从551开始，500-549之间的那些会跳过不使用。</span></span><br><span class="line"></span><br><span class="line">GID_MIN 500</span><br><span class="line"><span class="comment">#创建组的时候默认的起始GID号</span></span><br><span class="line"></span><br><span class="line">GID_MAX 60000</span><br><span class="line"><span class="comment">#创建组的时候默认的最大的GID号</span></span><br><span class="line"></span><br><span class="line">CREATE_HOME yes</span><br><span class="line"><span class="comment">#创建用户时是否创建用户家目录默认 yes 创建 </span></span><br><span class="line"></span><br><span class="line">UMASK 077</span><br><span class="line"><span class="comment">#这行指定的是建立的用户家目录的默认权限，因为umask值是077，所以新建的用户家目录的权限是700</span></span><br><span class="line"></span><br><span class="line">USERGROUPS_ENAB yes</span><br><span class="line"><span class="comment">#这行指定的是使用命令userdel删除用户时，是否删除用户的初始组，默认是删除</span></span><br><span class="line"></span><br><span class="line">ENCRYPT_METHOD SHA512 </span><br><span class="line"><span class="comment">#这行指定Linux用户的密码使用SHA512散列模式加密，这是新的密码加密模式，原先的Linux只能用DES或MD5方式加密</span></span><br></pre></td></tr></table></figure>
<p>现在你知道啦,使用 useradd 这支程序在创建 Linux 上的账号时,至少会参考：</p>
<blockquote>
<p>/etc/default/useradd<br>/etc/login.defs<br>/etc/skel/*</p>
</blockquote>
<p>这些文件,不过最重要的其实是创建 /etc/passwd,/etc/shadow,/etc/group,/etc/gshadow还有用户家目录就是了～所以,如果你了解整个系统运行的状态,也是可以手动直接修改这几个文件就是了.</p>
<h3 id="◆passwd-设置密码◆"><a href="#◆passwd-设置密码◆" class="headerlink" title="◆passwd 设置密码◆"></a>◆passwd 设置密码◆</h3><p>passwd命令用于设置用户的认证信息,包括用户密码、密码过期时间等,系统管理者则能用它管理系统用户的密码,只有管理者可以指定用户名称,一般用户只能变更自己的密码,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># passwd --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ passwd [选项] 用户名 ]</span><br><span class="line"></span><br><span class="line">        -u UID          <span class="comment">#创建用户时指定UID号</span></span><br><span class="line">        --stdin         <span class="comment">#非交互给予密码</span></span><br><span class="line">        -l 用户名        <span class="comment">#锁定用户,使之无法登陆,会将 /etc/shadow 第二栏最前面加上 ! 使口令失效.</span></span><br><span class="line">        -u 用户名        <span class="comment">#解锁用户,是 Unlock 的意思</span></span><br><span class="line">        -S 用户名        <span class="comment">#查看用户账号状态(是否被锁定).</span></span><br><span class="line">        -n              <span class="comment">#后面接天数,多久不可修改口令天数</span></span><br><span class="line">        -x              <span class="comment">#后面接天数,多久内必须要更动口令</span></span><br><span class="line">        -w              <span class="comment">#后面接天数,口令过期前的警告天数</span></span><br><span class="line">        -i              <span class="comment">#后面接『日期』,口令失效日期</span></span><br></pre></td></tr></table></figure>
<p><strong>实例1：</strong>使用 <code>echo |passwd --stdin</code> 参数非交互设置密码.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo "lyshark" |passwd --stdin lyshark</span></span><br><span class="line"></span><br><span class="line">Changing password <span class="keyword">for</span> user lyshark.</span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure></p>
<p><strong>实例2：</strong>使用 <code>passwd</code> 参数修改lyshark用户的密码.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># passwd lyshark</span></span><br><span class="line"></span><br><span class="line">Changing password <span class="keyword">for</span> user lyshark.</span><br><span class="line">New password: 123123</span><br><span class="line">BAD PASSWORD: The password is shorter than 8 characters</span><br><span class="line">Retype new password: 123123</span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure></p>
<p>root果然是最伟大的人物,当我们要给予用户口令时,通过root来配置即可,root可以配置各式各样的口令,系统几乎一定会接受,所以如同上面的范例,明明输入的口令太短了,但是系统依旧可接受123123这样的口令配置.</p>
<h3 id="◆usermod-管理用户◆"><a href="#◆usermod-管理用户◆" class="headerlink" title="◆usermod 管理用户◆"></a>◆usermod 管理用户◆</h3><p>usermod命令用于修改用户的基本信息,usermod命令不允许你改变正在线上的使用者帐号名称,当usermod命令用来改变userid,必须确认这名user没在电脑上执行任何程序,你需手动更改使用者的crontab,也需手动更改使用者的at工作,采用NIS server须在server上更动相关的NIS设定,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># usermod --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ usermod [选项] 用户名 ]</span><br><span class="line"></span><br><span class="line">        -u UID          <span class="comment">#创建用户时指定UID号</span></span><br><span class="line">        -c              <span class="comment">#后面加账号说明</span></span><br><span class="line">        -d 目录         <span class="comment">#结合 -m 直接对家目录进行改名</span></span><br><span class="line">        -e              <span class="comment">#后面接日期，格式是 YYYY-MM-DD</span></span><br><span class="line">        -f              <span class="comment">#后面接天数</span></span><br><span class="line">        -g 组名         <span class="comment">#修改指定初始组</span></span><br><span class="line">        -G              <span class="comment">#修改指定附加组</span></span><br><span class="line">        -a              <span class="comment">#与 -G 合用,添加次要组</span></span><br><span class="line">        -l 新名 旧名    <span class="comment">#修改用户名</span></span><br><span class="line">        -s shell        <span class="comment">#修改默认Shell</span></span><br><span class="line">        -u UID          <span class="comment">#修改用户的指定UID</span></span><br><span class="line">        -L              <span class="comment">#冻结指定用户,让其无法登陆</span></span><br><span class="line">        -U              <span class="comment">#解除冻结</span></span><br></pre></td></tr></table></figure>
<p>如果你仔细的比对,会发现 usermod 的选项与 useradd 非常类似,这是因为 usermod 也是用来微调 useradd 添加的使用者参数嘛,不过 usermod 还是有新增的选项,那就是 -L 与 -U,不过这两个选项其实与 passwd 的 -l,-u 是相同的.</p>
<p><strong>实例1：</strong>使用 <code>usermod -m -d /home/hello wang</code> 参数将原wang家目录修改成hello.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost home]<span class="comment"># ls</span></span><br><span class="line">wang</span><br><span class="line">[root@localhost home]<span class="comment"># usermod -m -d /home/hello wang</span></span><br><span class="line"></span><br><span class="line">[root@localhost home]<span class="comment"># ls</span></span><br><span class="line">hello</span><br></pre></td></tr></table></figure></p>
<p><strong>实例2：</strong>使用 <code>usermod -s /bin/bash</code> 参数修改lyshark账户的默认shell.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># usermod -s /bin/bash lyshark</span></span><br></pre></td></tr></table></figure></p>
<h3 id="◆userdel-删除用户◆"><a href="#◆userdel-删除用户◆" class="headerlink" title="◆userdel 删除用户◆"></a>◆userdel 删除用户◆</h3><p>userdel命令用于删除给定的用户,以及与用户相关的文件,若不加选项,则仅删除用户帐号,而不删除相关文件,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># userdel --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ userdel [选项] 用户名 ]</span><br><span class="line"></span><br><span class="line">        -f              <span class="comment">#强制删除用户,即使用户已登陆</span></span><br><span class="line">        -r              <span class="comment">#同时删除家目录</span></span><br></pre></td></tr></table></figure>
<p>这个功能就太简单了,目的在删除用户的相关数据,而用户的数据有：</p>
<blockquote>
<p>用户账号/口令相关参数：/etc/passwd, /etc/shadow<br>使用者群组相关参数：/etc/group, /etc/gshadow<br>用户个人文件数据： /home/username, /var/spool/mail/username..</p>
</blockquote>
<p>这个命令下达的时候要小心了,通常我们要移除一个账号的时候,你可以手动的将 /etc/passwd 与 /etc/shadow 里头的该账号取消即可,一般而言,如果该账号只是『暂时不激活』的话,那么将 /etc/shadow 里头账号失效日期 (第八字段) 配置为 0 就可以让该账号无法使用,但是所有跟该账号相关的数据都会留下来,使用userdel的时候通常是『你真的确定不要让该用户在主机上面使用任何数据了』</p>
<h3 id="◆chage-查询参数◆"><a href="#◆chage-查询参数◆" class="headerlink" title="◆chage 查询参数◆"></a>◆chage 查询参数◆</h3><p>chage命令是用来修改帐号和密码的有效期限,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># chage --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ chage [选项] 用户名 ]</span><br><span class="line"></span><br><span class="line">        -m              <span class="comment">#密码可更改的最小天数</span></span><br><span class="line">        -M              <span class="comment">#密码保持有效的最大天数</span></span><br><span class="line">        -w              <span class="comment">#用户密码到期前警告天数</span></span><br><span class="line">        -E              <span class="comment">#帐号到期时间</span></span><br><span class="line">        -d              <span class="comment">#上一次更改的日期</span></span><br><span class="line">        -l              <span class="comment">#列出该账号的详细口令参数</span></span><br><span class="line">        chage -d 0      <span class="comment">#强制用户下次登陆修改密码</span></span><br></pre></td></tr></table></figure>
<p><strong>实例1：</strong>使用 <code>chage -d 0 lyshark</code> 强制用户下次登陆修改密码.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># chage -l lyshark</span></span><br><span class="line">Last password change					: Nov 14, 2018</span><br><span class="line">Password expires					: never</span><br><span class="line">Password inactive					: never</span><br><span class="line">Account expires						: never</span><br><span class="line">Minimum number of days between password change		: 0</span><br><span class="line">Maximum number of days between password change		: 99999</span><br><span class="line">Number of days of warning before password expires	: 7</span><br><span class="line"></span><br><span class="line">[root@localhost ~]<span class="comment"># chage -d 0 lyshark</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]<span class="comment"># chage -l lyshark</span></span><br><span class="line">Last password change					: password must be changed</span><br><span class="line">Password expires					: password must be changed</span><br><span class="line">Password inactive					: password must be changed</span><br><span class="line">Account expires						: never</span><br><span class="line">Minimum number of days between password change		: 0</span><br><span class="line">Maximum number of days between password change		: 99999</span><br><span class="line">Number of days of warning before password expires	: 7</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="Linux-属组管理命令"><a href="#Linux-属组管理命令" class="headerlink" title="Linux 属组管理命令"></a>Linux 属组管理命令</h2><p>了解了账号的新增、删除、更动与查询后,再来我们可以聊一聊群组的相关内容了,基本上,群组的内容都与这两个文件有关：/etc/group,/etc/gshadow,群组的内容其实很简单,都是上面两个文件的新增、修改与移除而已,不过如果再加上有效群组的概念,那么gpasswd则不可不知呢.</p>
<h3 id="◆groupadd-添加属组◆"><a href="#◆groupadd-添加属组◆" class="headerlink" title="◆groupadd 添加属组◆"></a>◆groupadd 添加属组◆</h3><p>groupadd命令用于创建一个新的工作组,新工作组的信息将被添加到系统文件中,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># groupadd --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ groupadd [选项] 组名 ]</span><br><span class="line"></span><br><span class="line">        -g              <span class="comment">#指定组GID</span></span><br><span class="line">        -r              <span class="comment">#创建系统群组</span></span><br></pre></td></tr></table></figure>
<h3 id="◆groupmod-修改属组◆"><a href="#◆groupmod-修改属组◆" class="headerlink" title="◆groupmod 修改属组◆"></a>◆groupmod 修改属组◆</h3><p>groupmod命令更改群组识别码或名称,需要更改群组的识别码或名称时,可用groupmod指令来完成这项工作,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># groupmod --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ groupmod [选项] 组名 ]</span><br><span class="line"></span><br><span class="line">        -g              <span class="comment">#修改原有的GID数字</span></span><br><span class="line">        -n              <span class="comment">#修改原有的组名</span></span><br></pre></td></tr></table></figure>
<h3 id="◆groupdel-删除属组◆"><a href="#◆groupdel-删除属组◆" class="headerlink" title="◆groupdel 删除属组◆"></a>◆groupdel 删除属组◆</h3><p>groupdel命令用于删除指定的工作组,本命令要修改的系统文件包括/ect/group和/ect/gshadow,若该群组中仍包括某些用户,则必须先删除这些用户后,方能删除群组,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># groupdel --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ groupdel [选项] 组名 ]</span><br></pre></td></tr></table></figure>
<h3 id="◆gpasswd-添加成员◆"><a href="#◆gpasswd-添加成员◆" class="headerlink" title="◆gpasswd 添加成员◆"></a>◆gpasswd 添加成员◆</h3><p>gpasswd命令是Linux下工作组文件/etc/group和/etc/gshadow管理工具,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># gpasswd --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ gpasswd [选项] 组名 ]</span><br><span class="line"></span><br><span class="line">        -a              <span class="comment">#添加用户到组</span></span><br><span class="line">        -d              <span class="comment">#从组删除用户</span></span><br><span class="line">        -A              <span class="comment">#指定管理员</span></span><br><span class="line">        -M              <span class="comment">#指定组成员</span></span><br><span class="line">        -r              <span class="comment">#删除密码</span></span><br><span class="line">        -R              <span class="comment">#限制用户登入组</span></span><br></pre></td></tr></table></figure>
<p><strong>实例1：</strong>使用 <code>gpasswd -a</code> 添加lyshark用户到root组.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># gpasswd -a lyshark root</span></span><br><span class="line"></span><br><span class="line">Adding user lyshark to group root</span><br></pre></td></tr></table></figure></p>
<p><strong>实例2：</strong>使用 <code>gpasswd -d</code> 从lyshark组中删除root.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># gpasswd -d lyshark root</span></span><br><span class="line"></span><br><span class="line">Removing user lyshark from group root</span><br></pre></td></tr></table></figure></p>
<p><strong>实例3：</strong>使用 <code>gpasswd -M</code> 批量将用户 a1,a2,a3,a4 添加到test组.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># useradd a1</span></span><br><span class="line">[root@localhost ~]<span class="comment"># useradd a2</span></span><br><span class="line">[root@localhost ~]<span class="comment"># useradd a3</span></span><br><span class="line">[root@localhost ~]<span class="comment"># useradd a4</span></span><br><span class="line">[root@localhost ~]<span class="comment"># groupadd test</span></span><br><span class="line"></span><br><span class="line">[root@localhost ~]<span class="comment"># gpasswd -M a1,a2,a3,a4 test</span></span><br><span class="line"></span><br><span class="line">root@localhost ~]<span class="comment"># cat /etc/group |grep test</span></span><br><span class="line"><span class="built_in">test</span>:x:1008:a1,a2,a3,a4</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="Linux-用户查询命令"><a href="#Linux-用户查询命令" class="headerlink" title="Linux 用户查询命令"></a>Linux 用户查询命令</h2><p>谈了这么多的账号问题,总是该要谈一谈,那么如何针对系统上面的用户进行查询吧？想几个状态,如果你在Linux上面操作时,刚好有其他的用户也登陆主机,你想要跟他对谈,该如何是好,你想要知道某个账号的相关信息,该如何查阅,下面我们就来看一看具体的查询技巧吧.</p>
<h3 id="◆su-切换身份命令◆"><a href="#◆su-切换身份命令◆" class="headerlink" title="◆su 切换身份命令◆"></a>◆su 切换身份命令◆</h3><p>su命令用于切换当前用户身份到其他用户身份,变更时须输入所要变更的用户帐号与密码,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># su --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ su - [选项] 用户名 ]</span><br><span class="line"></span><br><span class="line">        -c 指令          <span class="comment">#执行完指定的指令后,即恢复原来的身份</span></span><br><span class="line">        -f               <span class="comment">#使shell不用去读取启动文件</span></span><br><span class="line">        -l               <span class="comment">#改变身份时连同环境变量一起切换</span></span><br><span class="line">        -m               <span class="comment">#改变身份不同步环境变量</span></span><br><span class="line">        -s shell         <span class="comment">#指定要执行的shell</span></span><br></pre></td></tr></table></figure>
<p><strong>实例1：</strong>使用 <code>su -c</code> 执行指令后自动退出.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># su -c id lyshark</span></span><br><span class="line"></span><br><span class="line">uid=1000(lyshark) gid=1000(lyshark) groups=1000(lyshark)</span><br></pre></td></tr></table></figure></p>
<h3 id="◆id-查询用户信息◆"><a href="#◆id-查询用户信息◆" class="headerlink" title="◆id 查询用户信息◆"></a>◆id 查询用户信息◆</h3><p>id命令可以显示真实有效的用户ID(UID)和组ID(GID),UID 是对一个用户的单一身份标识,组ID（GID）则对应多个UID,id命令已经默认预装在大多数Linux系统中,要使用它,只需要在你的控制台输入id,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># id --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ id [选项] 用户名 ]</span><br><span class="line"></span><br><span class="line">        -g              <span class="comment">#显示用户所属群组的ID</span></span><br><span class="line">        -G              <span class="comment">#显示用户所属附加群组的ID</span></span><br><span class="line">        -n              <span class="comment">#显示用户,所属群组或附加群组的名称.</span></span><br><span class="line">        -r              <span class="comment">#显示实际ID</span></span><br><span class="line">        -u              <span class="comment">#显示用户ID</span></span><br></pre></td></tr></table></figure>
<p><strong>实例1：</strong>使用 <code>id</code> 命令查询指定用户.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># id lyshark</span></span><br><span class="line"></span><br><span class="line">uid=1000(lyshark) gid=1000(lyshark) groups=1000(lyshark)</span><br></pre></td></tr></table></figure></p>
<h3 id="◆w-显示登陆用户列表◆"><a href="#◆w-显示登陆用户列表◆" class="headerlink" title="◆w 显示登陆用户列表◆"></a>◆w 显示登陆用户列表◆</h3><p>w命令用于显示已经登陆系统的用户列表,并显示用户正在执行的指令,执行这个命令可得知目前登入系统的用户有那些人,以及他们正在执行的程序,单独执行w命令会显示所有的用户,您也可指定用户名称,仅显示某位用户的相关信息,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># w --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ w [选项] 用户名 ]</span><br><span class="line"></span><br><span class="line">        -h              <span class="comment">#不打印头信息</span></span><br><span class="line">        -u              <span class="comment">#当显示当前进程和cpu时间时忽略用户名</span></span><br><span class="line">        -s              <span class="comment">#使用短输出格式</span></span><br><span class="line">        -f              <span class="comment">#显示用户从哪登录</span></span><br></pre></td></tr></table></figure>
<p><strong>实例1：</strong>使用 <code>w</code> 命令查看系统正在登陆的用户.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># w</span></span><br><span class="line"></span><br><span class="line"> 14:40:07 up 3 min,  2 users,  load average: 0.03, 0.09, 0.05</span><br><span class="line">USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT</span><br><span class="line">root     pts/0    192.168.1.20     14:37    7.00s  0.10s  0.00s w</span><br><span class="line">lyshark  pts/1    192.168.1.20     14:38    1:59   0.01s  0.01s -bash</span><br></pre></td></tr></table></figure></p>
<p><strong>实例2：</strong>使用 <code>w -h lyshark</code> 命令查看lyshark用户的登陆情况.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># w -h lyshark</span></span><br><span class="line">lyshark  pts/1    192.168.1.20     14:38    4:31   0.01s  0.01s -bash</span><br></pre></td></tr></table></figure></p>
<h3 id="◆who-显示登录系统信息◆"><a href="#◆who-显示登录系统信息◆" class="headerlink" title="◆who 显示登录系统信息◆"></a>◆who 显示登录系统信息◆</h3><p>who命令是显示目前登录系统的用户信息,执行who命令可得知目前有那些用户登入系统,单独执行who命令会列出登入帐号,使用的终端机,登入时间以及从何处登入或正在使用哪个显示器,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># who --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ who [选项] ]</span><br><span class="line"></span><br><span class="line">        -H              <span class="comment">#显示各栏位的标题信息列</span></span><br><span class="line">        -u              <span class="comment">#显示用户闲置时间(1分钟内无操作显示. 24小时不操作显示old)</span></span><br><span class="line">        -m              <span class="comment">#与 who am i 参数效果相同</span></span><br><span class="line">        -q              <span class="comment">#只显示登入系统的帐号名称和总人数</span></span><br><span class="line">        -s              <span class="comment">#只负责解决兼容性问题</span></span><br><span class="line">        -w              <span class="comment">#显示用户的信息状态栏</span></span><br></pre></td></tr></table></figure>
<p><strong>实例1：</strong>使用 <code>who -q</code> 命令查看系统登录用户总人数.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># who -q</span></span><br><span class="line"></span><br><span class="line">root lyshark admin users wangrui </span><br><span class="line"><span class="comment"># users=5</span></span><br></pre></td></tr></table></figure></p>
<h3 id="◆last-显示用户最近登录信息◆"><a href="#◆last-显示用户最近登录信息◆" class="headerlink" title="◆last 显示用户最近登录信息◆"></a>◆last 显示用户最近登录信息◆</h3><p>last命令用于显示用户最近登录信息,单独执行last命令,它会读取/var/log/wtmp的文件,并把该给文件的内容记录的登入系统的用户名单全部显示出来,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># last --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ last [选项] [文件目录] ]</span><br><span class="line"></span><br><span class="line">        -H              <span class="comment">#显示各栏位的标题信息列</span></span><br><span class="line">        -a              <span class="comment">#把从何处登入系统的主机名称或IP,显示在最后一行</span></span><br><span class="line">        -d              <span class="comment">#将IP地址转换成主机名称</span></span><br><span class="line">        -f 记录文件      <span class="comment">#指定记录文件</span></span><br><span class="line">        -n 显示条数      <span class="comment">#设置列出名单的显示列数</span></span><br><span class="line">        -R              <span class="comment">#不显示登入系统的主机名称或IP地址</span></span><br><span class="line">        -x              <span class="comment">#显示系统关机,重新开机,以及执行等级的改变等信息</span></span><br></pre></td></tr></table></figure>
<p><strong>实例1：</strong>使用 <code>last -f /var/log/wtmp</code> 指定一个读取文件,来打印.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># last -f /var/log/wtmp</span></span><br><span class="line"></span><br><span class="line">lyshark  pts/1        192.168.1.20     Wed Nov 14 14:38   still logged <span class="keyword">in</span>   </span><br><span class="line">root     pts/0        192.168.1.20     Wed Nov 14 14:37   still logged <span class="keyword">in</span>   </span><br><span class="line">reboot   system boot  3.10.0-862.el7.x Wed Nov 14 14:36 - 14:57  (00:21)    </span><br><span class="line">root     pts/0        192.168.1.8      Tue Nov  6 11:02 - crash (8+03:34)   </span><br><span class="line">....省略....</span><br><span class="line">wtmp begins Sat Oct 13 12:39:18 2018</span><br></pre></td></tr></table></figure></p>
<p><strong>实例2：</strong>使用 <code>last -n 4</code> 命令显示前4行数据.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># last -n 4</span></span><br><span class="line">lyshark  pts/1        192.168.1.20     Wed Nov 14 14:38   still logged <span class="keyword">in</span>   </span><br><span class="line">root     pts/0        192.168.1.20     Wed Nov 14 14:37   still logged <span class="keyword">in</span>   </span><br><span class="line">reboot   system boot  3.10.0-862.el7.x Wed Nov 14 14:36 - 14:58  (00:22)    </span><br><span class="line">root     pts/0        192.168.1.8      Tue Nov  6 11:02 - crash (8+03:34)   </span><br><span class="line"></span><br><span class="line">wtmp begins Sat Oct 13 12:39:18 2018</span><br></pre></td></tr></table></figure></p>
<h3 id="◆lastlog-显示最后登陆信息◆"><a href="#◆lastlog-显示最后登陆信息◆" class="headerlink" title="◆lastlog 显示最后登陆信息◆"></a>◆lastlog 显示最后登陆信息◆</h3><p>lastlog命令用于显示系统中所有用户最近一次登录信息.</p>
<p>lastlog文件在每次有用户登录时被查询,可以使用lastlog命令检查某特定用户上次登录的时间,并格式化输出上次登录日志/var/log/lastlog的内容,它根据UID排序显示登录名、端口号(tty)和上次登录时间,如果一个用户从未登录过,lastlog显示 Never logged,注意需要以root身份运行该命令,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># lastlog --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ lastlog [选项] [文件目录] ]</span><br><span class="line"></span><br><span class="line">        -b 天数         <span class="comment">#显示指定天数前的登录信息</span></span><br><span class="line">        -t 天数         <span class="comment">#显示指定天数以来的登录信息</span></span><br><span class="line">        -u 用户名       <span class="comment">#显示指定用户的最近登录信息</span></span><br></pre></td></tr></table></figure>
<p><strong>实例1：</strong>使用 <code>lastlog -u root</code> 查询root的最后登录日期.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># lastlog -u root</span></span><br><span class="line"></span><br><span class="line">Username         Port     From             Latest</span><br><span class="line">root             pts/0    192.168.1.20     Wed Nov 14 14:37:27 -0500 2018</span><br></pre></td></tr></table></figure></p>
<p><br></p>
<h2 id="Linux-用户对话命令"><a href="#Linux-用户对话命令" class="headerlink" title="Linux 用户对话命令"></a>Linux 用户对话命令</h2><h3 id="◆write-在线发送提示◆"><a href="#◆write-在线发送提示◆" class="headerlink" title="◆write 在线发送提示◆"></a>◆write 在线发送提示◆</h3><p>write命令用于向指定登录用户终端上发送信息,通过write命令可传递信息给另一位登入系统的用户,当输入完毕后,键入EOF表示信息结束,write命令就会将信息传给对方,如果接收信息的用户不只登入本地主机一次,你可以指定接收信息的终端机编号.</p>
<p><strong>实例1：</strong>使用 <code>write</code> 给lyshark用户发送消息.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo "hello lyshark" | write lyshark</span></span><br></pre></td></tr></table></figure></p>
<p><strong>实例2：</strong>使用 <code>write</code> 给lyshark用户无线发送乱码.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">cat /var/<span class="built_in">log</span>/messages |base64 |write lyshark</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></p>
<p>注意：若对方设定mesg n 则此时信息将无法传给对方.</p>
<h3 id="◆wall-给所有人通知◆"><a href="#◆wall-给所有人通知◆" class="headerlink" title="◆wall 给所有人通知◆"></a>◆wall 给所有人通知◆</h3><p>wall命令用于向系统当前所有打开的终端上输出信息,通过wall命令可将信息发送给每位同意接收公众信息的终端机用户,若不给予其信息内容,则wall命令会从标准输入设备读取数据,然后再把所得到的数据传送给所有终端机用户.</p>
<p><strong>实例1：</strong>使用 <code>wall</code> 给全部用户发送消息.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># wall hello linux admin</span></span><br><span class="line">[root@localhost ~]<span class="comment"># </span></span><br><span class="line"></span><br><span class="line">Broadcast message from root@localhost.localdomain (pts/0) (Wed Nov 14 15:28:01 2018):</span><br><span class="line"></span><br><span class="line">hello linux admin</span><br></pre></td></tr></table></figure></p>
<h3 id="◆mail-发送邮件◆"><a href="#◆mail-发送邮件◆" class="headerlink" title="◆mail 发送邮件◆"></a>◆mail 发送邮件◆</h3><p>mail命令是命令行的电子邮件发送和接收工具,操作的界面不像elm或pine那么容易使用,但功能非常完整,其参数我们会在下面进行说明.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># yum install -y mailx</span></span><br><span class="line">[root@localhost ~]<span class="comment"># mail --help</span></span><br><span class="line"></span><br><span class="line">命令语法：[ mail [选项] [用户] ]</span><br><span class="line"></span><br><span class="line">        -b 地址         <span class="comment">#指定密件副本的收信人地址</span></span><br><span class="line">        -c 地址         <span class="comment">#指定副本的收信人地址</span></span><br><span class="line">        -f 邮件文件     <span class="comment">#读取指定邮件文件中的邮件</span></span><br><span class="line">        -i             <span class="comment">#不显示终端发出的信息</span></span><br><span class="line">        -I             <span class="comment">#使用互动模式</span></span><br><span class="line">        -s 邮件主题     <span class="comment">#指定邮件的主题</span></span><br><span class="line">        -u 用户帐号     <span class="comment">#读取指定用户的邮件</span></span><br><span class="line"></span><br><span class="line">        h              <span class="comment">#列出信件表头</span></span><br><span class="line">        d              <span class="comment">#删除邮件</span></span><br><span class="line">        s              <span class="comment">#将邮件保存成文件</span></span><br><span class="line">        q              <span class="comment">#退出</span></span><br></pre></td></tr></table></figure>
<p><strong>实例1：</strong>使用 <code>mail</code> 使用管道进行邮件发送.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo "hello,this is the content of mail." |mail -s "by root" lyshark</span></span><br><span class="line"></span><br><span class="line">You have new mail <span class="keyword">in</span> /var/spool/mail/root</span><br></pre></td></tr></table></figure></p>
<p><strong>实例2：</strong>使用 <code>mail</code> 使用文件进行邮件发送.<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># mail -s "by root" admin@mkdirs.com &lt; mail.txt</span></span><br><span class="line"></span><br><span class="line">You have new mail <span class="keyword">in</span> /var/spool/mail/root</span><br></pre></td></tr></table></figure></p>
<p><br></p>

      
    </div>

    

<!--增加的底部版权代码-->
<div>
      
        
<div class="my_post_copyright">
  <p><span>本文标题:</span><a href="/2018/11/14/Linux 系统管理/Linux系统用户与属组管理-3/">Linux系统用户与属组管理(3)</a></p>
  <p><span>文章作者:</span><a href="/" title="访问 王瑞 的个人博客">王瑞</a></p>
  <p><span>发布时间:</span>2018年11月14日 - 12:11</p>
  <p><span>最后更新:</span>2019年04月16日 - 20:04</p>
  <p><span>原始链接:</span><a href="/2018/11/14/Linux 系统管理/Linux系统用户与属组管理-3/" title="Linux系统用户与属组管理(3)">https://www.mkdirs.com/2018/11/14/Linux 系统管理/Linux系统用户与属组管理-3/</a>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者</p>
</div>

      
</div>
    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Linux-系统管理/" rel="tag"> <i class="fa fa-tag"></i> Linux 系统管理</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/11/14/Linux 系统管理/Linux系统VIM编辑器管理-2/" rel="next" title="Linux系统VIM编辑器管理(2)">
                <i class="fa fa-chevron-left"></i> Linux系统VIM编辑器管理(2)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/11/15/Linux 系统管理/Linux系统软件包的管理-4/" rel="prev" title="Linux系统软件包的管理(4)">
                Linux系统软件包的管理(4) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="王瑞">
            
              <p class="site-author-name" itemprop="name">王瑞</p>
              <div class="site-description motion-element" itemprop="description">记录点滴技术成长之路</div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">101</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">11</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://github.com/lyshark" title="GitHub &rarr; https://github.com/lyshark" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="mailto:1181506874@qq.com" title="E-Mail &rarr; mailto:1181506874@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://plus.google.com/lyshark" title="Google &rarr; https://plus.google.com/lyshark" rel="noopener" target="_blank"><i class="fa fa-fw fa-google"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://twitter.com/lyshark" title="Twitter &rarr; https://twitter.com/lyshark" rel="noopener" target="_blank"><i class="fa fa-fw fa-twitter"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="http://wpa.qq.com/msgrd?v=3&uin=1181506874&site=hupaiyule&menu=yes" title="QQ &rarr; http://wpa.qq.com/msgrd?v=3&uin=1181506874&site=hupaiyule&menu=yes" rel="noopener" target="_blank"><i class="fa fa-fw fa-qq"></i></a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                  
                    
                  
                  <a href="https://weixin.qq.com" title="Wechat &rarr; https://weixin.qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-weixin"></i></a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-用户文件解析"><span class="nav-text">Linux 用户文件解析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#◆-etc-passwd◆"><span class="nav-text">◆/etc/passwd◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆-etc-shadow◆"><span class="nav-text">◆/etc/shadow◆</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-属组文件解析"><span class="nav-text">Linux 属组文件解析</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#◆-etc-group◆"><span class="nav-text">◆/etc/group◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆-etc-gshadow◆"><span class="nav-text">◆/etc/gshadow◆</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-用户管理命令"><span class="nav-text">Linux 用户管理命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#◆useradd-新建用户◆"><span class="nav-text">◆useradd 新建用户◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆passwd-设置密码◆"><span class="nav-text">◆passwd 设置密码◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆usermod-管理用户◆"><span class="nav-text">◆usermod 管理用户◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆userdel-删除用户◆"><span class="nav-text">◆userdel 删除用户◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆chage-查询参数◆"><span class="nav-text">◆chage 查询参数◆</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-属组管理命令"><span class="nav-text">Linux 属组管理命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#◆groupadd-添加属组◆"><span class="nav-text">◆groupadd 添加属组◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆groupmod-修改属组◆"><span class="nav-text">◆groupmod 修改属组◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆groupdel-删除属组◆"><span class="nav-text">◆groupdel 删除属组◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆gpasswd-添加成员◆"><span class="nav-text">◆gpasswd 添加成员◆</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-用户查询命令"><span class="nav-text">Linux 用户查询命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#◆su-切换身份命令◆"><span class="nav-text">◆su 切换身份命令◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆id-查询用户信息◆"><span class="nav-text">◆id 查询用户信息◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆w-显示登陆用户列表◆"><span class="nav-text">◆w 显示登陆用户列表◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆who-显示登录系统信息◆"><span class="nav-text">◆who 显示登录系统信息◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆last-显示用户最近登录信息◆"><span class="nav-text">◆last 显示用户最近登录信息◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆lastlog-显示最后登陆信息◆"><span class="nav-text">◆lastlog 显示最后登陆信息◆</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-用户对话命令"><span class="nav-text">Linux 用户对话命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#◆write-在线发送提示◆"><span class="nav-text">◆write 在线发送提示◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆wall-给所有人通知◆"><span class="nav-text">◆wall 给所有人通知◆</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#◆mail-发送邮件◆"><span class="nav-text">◆mail 发送邮件◆</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">

<!-- 屏蔽版权开始 -->
&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">王瑞</span>
<!-- 屏蔽版权结束 -->

  

  
</div>









        








        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>




  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
